<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Certification Practice Tests</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .animate-slide-up { animation: slideUp 0.5s ease-out; }
        .cert-card { transition: all 0.4s; cursor: pointer; }
        .cert-card:hover { transform: translateY(-12px) scale(1.03); box-shadow: 0 20px 40px rgba(0,0,0,0.3); }
        .sticky-submit { position: sticky; bottom: 20px; z-index: 40; margin: 30px auto; max-width: 500px; }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-600 via-purple-700 to-pink-600 min-h-screen">
    <div id="app" class="container mx-auto px-4 py-6 max-w-7xl"></div>

    <script>
        const certificationQuestions = {
            "AWS Certified Cloud Practitioner (CLF-C02)": [
                // ← Your full 120+ questions go here — all safe!
                { "q": "What is the AWS shared responsibility model?", "options": ["AWS manages everything", "Customer manages everything", "AWS manages security OF the cloud, customer manages security IN the cloud", "Shared equally"], "answer": 2, "explanation": "AWS handles security OF the cloud..." },
                { "q": "Which service is serverless?", "options": ["EC2", "Lambda", "ECS", "EKS"], "answer": 1, "explanation": "AWS Lambda is serverless compute." }
                // ... rest of your questions
            ],
            "AWS Certified Solutions Architect – Associate (SAA-C03)": [],
            "AWS Certified Developer – Associate (DVA-C02)": [],
            "AWS Certified SysOps Administrator – Associate (SOA-C02)": [],
            "AWS Certified DevOps Engineer – Professional (DOP-C03)": [],
            "AWS Certified Solutions Architect – Professional (SAP-C02)": []
        };

        // All your existing variables and functions remain the same...
        let selectedCert = null, currentQuestions = [], userAnswers = {}, stats = { correct: 0, wrong: 0, answered: 0 };
        let timeLeft = 130 * 60, timerInterval = null, timeUp = false, reviewMode = false;
        const STORAGE_KEY = 'aws-practice-progress';

        // (save/load/clear/startExam etc. — unchanged, keeping short for clarity)
        // ... [all your existing functions here — exactly as before] ...

        function showResults() {
            clearInterval(timerInterval);
            reviewMode = true;
            renderAllQuestions();

            const percentage = Math.round((stats.correct / currentQuestions.length) * 100);
            const scaledScore = Math.round(700 + (stats.correct / currentQuestions.length) * 300);

            document.getElementById('finalScore').textContent = percentage + '%';
            document.getElementById('scaledScore').textContent = scaledScore;
            document.getElementById('finalCorrect').textContent = stats.correct;
            document.getElementById('finalWrong').textContent = currentQuestions.length - stats.correct;
            const passEl = document.getElementById('passStatus');
            passEl.textContent = scaledScore >= 720 ? 'PASSED' : 'FAILED';
            passEl.className = scaledScore >= 720 ? 'text-4xl font-bold text-green-600' : 'text-4xl font-bold text-red-600';

            document.getElementById('resultModal').classList.remove('hidden');
            document.getElementById('resultModal').classList.add('flex');
        }

        function renderExamScreen() {
            document.getElementById('app').innerHTML = `
                <!-- Header & Stats (unchanged) -->
                <div class="bg-white rounded-2xl shadow-2xl p-6 mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h1 class="text-3xl font-bold text-purple-700">${selectedCert}</h1>
                        <button onclick="backToHome()" class="text-purple-600 hover:underline">Back</button>
                    </div>
                    <div class="grid grid-cols-3 md:grid-cols-5 gap-4 text-center">
                        <div class="bg-purple-600 text-white p-4 rounded-xl"><div class="text-2xl font-bold">${currentQuestions.length}</div><div class="text-xs">Qs</div></div>
                        <div class="bg-green-600 text-white p-4 rounded-xl"><div class="text-2xl font-bold" id="correctCount">0</div><div class="text-xs">Correct</div></div>
                        <div class="bg-red-600 text-white p-4 rounded-xl"><div class="text-2xl font-bold" id="wrongCount">0</div><div class="text-xs">Wrong</div></div>
                        <div class="bg-blue-600 text-white p-4 rounded-xl"><div class="text-2xl font-bold" id="scorePercent">0%</div><div class="text-xs">Score</div></div>
                        <div class="bg-yellow-600 text-white p-4 rounded-xl"><div class="text-2xl font-bold" id="timer">130:00</div><div class="text-xs">Time</div></div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow p-4 mb-4">
                    <div class="flex justify-between text-sm font-bold"><span>Progress</span><span id="progressText">0/${currentQuestions.length}</span></div>
                    <div class="h-3 bg-gray-200 rounded-full overflow-hidden mt-1"><div id="progressFill" class="h-full bg-gradient-to-r from-purple-600 to-indigo-700" style="width:0%"></div></div>
                </div>

                <div id="questionsContainer" class="space-y-8 pb-32"></div>

                <div class="sticky-submit">
                    <button onclick="showResults()" class="w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white text-xl font-bold py-5 rounded-2xl shadow-xl hover:scale-105 transition">
                        Submit & Review Answers
                    </button>
                </div>

                <!-- COMPACT & BEAUTIFUL RESULT CARD -->
                <div id="resultModal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4">
                    <div class="bg-white rounded-3xl shadow-2xl w-full max-w-md animate-slide-up">
                        <div class="text-center py-8 px-6">
                            <h2 class="text-3xl font-bold text-purple-700 mb-3">Exam Finished!</h2>
                            <div class="text-6xl font-bold bg-gradient-to-r from-purple-600 to-indigo-700 bg-clip-text text-transparent mb-2" id="finalScore">0%</div>
                            <div class="text-5xl font-bold my-3" id="scaledScore">0</div>
                            <div id="passStatus" class="text-4xl font-bold mb-3">PENDING</div>
                            <p class="text-gray-600 text-sm">Passing: 720/1000</p>
                        </div>

                        <div class="grid grid-cols-2 gap-4 px-6 pb-6">
                            <div class="bg-green-50 rounded-2xl p-5 text-center">
                                <div class="text-4xl font-bold text-green-600" id="finalCorrect">0</div>
                                <div class="text-sm text-gray-700 mt-1">Correct</div>
                            </div>
                            <div class="bg-red-50 rounded-2xl p-5 text-center">
                                <div class="text-4xl font-bold text-red-600" id="finalWrong">0</div>
                                <div class="text-sm text-gray-700 mt-1">Wrong/Unanswered</div>
                            </div>
                        </div>

                        <div class="px-6 pb-8 space-y-3">
                            <button onclick="retryExam()" class="w-full bg-gradient-to-r from-purple-600 to-indigo-700 text-white font-bold py-4 rounded-2xl hover:opacity-90 transition">
                                Retry Exam
                            </button>
                            <button onclick="backToHome()" class="w-full bg-gray-600 text-white font-bold py-4 rounded-2xl hover:bg-gray-700 transition">
                                Choose Another Exam
                            </button>
                        </div>
                    </div>
                </div>
            `;
            renderAllQuestions();
            updateStats();
        }

        // getHomeHTML, onload, etc. — same as before
        function getHomeHTML() {
            return `<div class="text-center py-16">
                <h1 class="text-5xl md:text-7xl font-bold text-white mb-6">AWS Practice Tests</h1>
                <p class="text-xl md:text-2xl text-purple-100 mb-16">130-min timer • 720/1000 passing</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 max-w-6xl mx-auto px-4">
                    ${Object.keys(certificationQuestions).map(c => `
                        <div onclick="startExam('${c}')" class="cert-card bg-white/95 rounded-3xl shadow-2xl p-8 text-center hover:shadow-3xl">
                            <div class="w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-purple-600 to-indigo-700 rounded-3xl flex items-center justify-center">
                                <svg class="w-12 h-12 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/></svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800">${c.split(' (')[0]}</h3>
                            <p class="text-purple-600 font-bold text-lg mt-2">${c.match(/\((.*?)\)/)[0]}</p>
                        </div>
                    `).join('')}
                </div>
            </div>`;
        }

        window.onload = () => {
            if (!loadProgress()) document.getElementById('app').innerHTML = getHomeHTML();
        };

        // Paste all your existing helper functions (renderQuestion, selectAnswer, etc.) here — they remain unchanged
        // (I'm keeping this short, but they are exactly the same as in previous working version)
    </script>
</body>
</html>
